<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="Apache Pekko is a toolkit for building highly concurrent, distributed, and resilient message-driven applications for Java and Scala.">
<meta name="generator" content="Paradox, paradox-material-theme=0.6.0, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="Apache Pekko is a toolkit for building highly concurrent, distributed, and resilient message-driven applications for Java and Scala.">
<link rel="shortcut icon" href="../../assets/images/favicon.png">
<title>Introduction to the Example · Apache Pekko</title>
<link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="../../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../../lib/prettify/prettify.css">
<script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
<link rel="stylesheet" href="../../assets/fonts/material-icons.css">
<link rel="stylesheet" href="../../assets/stylesheets/paradox-material-theme.css">
</head>
<body
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../../index.html" title="Apache Pekko" class="md-header-nav__button md-logo">
<img src="../../images/pekko_logo.png" width="24" height="24">
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
Apache Pekko
</span>
<span class="md-header-nav__topic">
Introduction to the Example
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/apache/incubator-pekko"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
apache/incubator-pekko
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="../../index.html" title="Apache Pekko" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<img src="../../images/pekko_logo.png" width="24" height="24">
</a>
<a href="../../index.html" title="Apache Pekko">
Apache Pekko
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/apache/incubator-pekko"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
apache/incubator-pekko
</div>
</a>

</div>
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
<ul>
  <li><a href="../../security/index.html" class="page">Security Announcements</a></li>
  <li><a href="../../downloads.html" class="page">Downloads</a></li>
  <li><a href="../../documentation.html" class="page">Documentation</a>
  <ul>
    <li><a href="../../typed/guide/index.html" class="page">Getting Started Guide</a></li>
    <li><a href="../../general/index.html" class="page">General Concepts</a></li>
    <li><a href="../../typed/index.html" class="page">Actors</a></li>
    <li><a href="../../typed/index-cluster.html" class="page">Cluster</a></li>
    <li><a href="../../typed/index-persistence.html" class="page">Persistence (Event Sourcing)</a></li>
    <li><a href="../../typed/index-persistence-durable-state.html" class="page">Persistence (Durable State)</a></li>
    <li><a href="../../stream/index.html" class="page">Streams</a></li>
    <li><a href="../../discovery/index.html" class="page">Discovery</a></li>
    <li><a href="../../index-utilities.html" class="page">Utilities</a></li>
    <li><a href="../../common/other-modules.html" class="page">Other Apache Pekko modules</a></li>
    <li><a href="../../additional/deploy.html" class="page">Package, Deploy and Run</a></li>
    <li><a href="../../project/index.html" class="page">Project Information</a></li>
    <li><a href="../../index-classic.html" class="page">Pekko Classic</a></li>
  </ul></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../typed/guide/tutorial.html#introduction-to-the-example" class="header">Introduction to the Example</a>
  <ul>
    <li><a href="../../typed/guide/tutorial.html#prerequisites" class="header">Prerequisites</a></li>
    <li><a href="../../typed/guide/tutorial.html#iot-example-use-case" class="header">IoT example use case</a></li>
    <li><a href="../../typed/guide/tutorial.html#what-you-will-learn-in-this-tutorial" class="header">What you will learn in this tutorial</a></li>
  </ul></li>
</ul>
</nav>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> 2.6.20+81-523134c3+20230202-1514*
</label>
</li>
</ul>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../typed/guide/tutorial.html#introduction-to-the-example" class="header">Introduction to the Example</a>
  <ul>
    <li><a href="../../typed/guide/tutorial.html#prerequisites" class="header">Prerequisites</a></li>
    <li><a href="../../typed/guide/tutorial.html#iot-example-use-case" class="header">IoT example use case</a></li>
    <li><a href="../../typed/guide/tutorial.html#what-you-will-learn-in-this-tutorial" class="header">What you will learn in this tutorial</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#introduction-to-the-example" name="introduction-to-the-example" class="anchor"><span class="anchor-link"></span></a>Introduction to the Example</h1>
<p>When writing prose, the hardest part is often composing the first few sentences. There is a similar &ldquo;blank canvas&rdquo; feeling when starting to build a Pekko system. You might wonder: Which should be the first actor? Where should it live? What should it do? Fortunately &#8212; unlike with prose &#8212; established best practices can guide us through these initial steps. In the remainder of this guide, we examine the core logic of a simple Pekko application to introduce you to actors and show you how to formulate solutions with them. The example demonstrates common patterns that will help you kickstart your Pekko projects.</p>
<h2><a href="#prerequisites" name="prerequisites" class="anchor"><span class="anchor-link"></span></a>Prerequisites</h2>
<p>You should have already followed the instructions in the <span class="group-scala"><a href="https://developer.lightbend.com/guides/akka-quickstart-scala/">Pekko Quickstart with Scala guide</a></span> <span class="group-java"><a href="https://developer.lightbend.com/guides/akka-quickstart-java/">Pekko Quickstart with Java guide</a></span> to download and run the Hello World example. You will use this as a seed project and add the functionality described in this tutorial.</p><div class="callout note "><div class="callout-title">Note</div>
<p>Both the Java and Scala DSLs of Pekko modules bundled in the same JAR. For a smooth development experience, when using an IDE such as Eclipse or IntelliJ, you can disable the auto-importer from suggesting <code>javadsl</code> imports when working in Scala, or viceversa. See <a href="../../additional/ide.html">IDE Tips</a>. </p></div>
<h2><a href="#iot-example-use-case" name="iot-example-use-case" class="anchor"><span class="anchor-link"></span></a>IoT example use case</h2>
<p>In this tutorial, we&rsquo;ll use Pekko to build out part of an Internet of Things (IoT) system that reports data from sensor devices installed in customers&rsquo; homes. The example focuses on temperature readings. The target use case allows customers to log in and view the last reported temperature from different areas of their homes. You can imagine that such sensors could also collect relative humidity or other interesting data and an application would likely support reading and changing device configuration, maybe even alerting home owners when sensor state falls outside of a particular range.</p>
<p>In a real system, the application would be exposed to customers through a mobile app or browser. This guide concentrates only on the core logic for storing temperatures that would be called over a network protocol, such as HTTP. It also includes writing tests to help you get comfortable and proficient with testing actors.</p>
<p>The tutorial application consists of two main components:</p>
<ul>
  <li><strong>Device data collection:</strong> &#8212; maintains a local representation of the remote devices. Multiple sensor devices for a home are organized into one device group.</li>
  <li><strong>User dashboard:</strong> &#8212; periodically collects data from the devices for a  logged in user&rsquo;s home and presents the results as a report.</li>
</ul>
<p>The following diagram illustrates the example application architecture. Since we are interested in the state of each sensor device, we will model devices as actors. The running application will create as many instances of device actors and device groups as necessary.</p>
<p><img src="diagrams/arch_boxes_diagram.png" alt="box diagram of the architecture" /></p>
<h2><a href="#what-you-will-learn-in-this-tutorial" name="what-you-will-learn-in-this-tutorial" class="anchor"><span class="anchor-link"></span></a>What you will learn in this tutorial</h2>
<p>This tutorial introduces and illustrates:</p>
<ul>
  <li>The actor hierarchy and how it influences actor behavior</li>
  <li>How to choose the right granularity for actors</li>
  <li>How to define protocols as messages</li>
  <li>Typical conversational styles</li>
</ul>
<p>Let&rsquo;s get started by learning more about actors.</p>
</div>
<div>
<a href="https://github.com/apache/incubator-pekko/tree/main/docs/src/main/paradox/typed/guide/tutorial.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
2.6.20+81-523134c3+20230202-1514*
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../../typed/guide/modules.html" title="Overview of Apache Pekko libraries and modules" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
Overview of Apache Pekko libraries and modules
</span>
</div>
</a>
<a href="../../typed/guide/tutorial_1.html" title="Part 1: Actor Architecture" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
Part 1: Actor Architecture
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
Copyright © 2023 The Apache Software Foundation, Licensed under the Apache License, Version 2.0
</div>
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
</div>
</div>
</footer>

</div>
<script src="../../assets/javascripts/application.583bbe55.js"></script>
<script src="../../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../../."}})</script>
<script type="text/javascript" src="../../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
<script src="../../assets/js/groups.js"></script>
</body>
</html>
