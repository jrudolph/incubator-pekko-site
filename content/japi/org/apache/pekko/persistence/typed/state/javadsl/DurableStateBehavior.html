<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.11) on Wed Feb 08 11:53:31 CET 2023 -->
<title>DurableStateBehavior</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2023-02-08">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DurableStateBehavior";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":6,"i2":10,"i3":10,"i4":6,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.pekko.persistence.typed.state.javadsl</a></div>
<h2 title="Class DurableStateBehavior" class="title">Class DurableStateBehavior&lt;Command,&#8203;State&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../actor/typed/Behavior.html" title="class in org.apache.pekko.actor.typed">org.apache.pekko.actor.typed.Behavior</a>&lt;T&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../../actor/typed/internal/BehaviorImpl.DeferredBehavior.html" title="class in org.apache.pekko.actor.typed.internal">org.apache.pekko.actor.typed.internal.BehaviorImpl.DeferredBehavior</a>&lt;Command&gt;</li>
<li>
<ul class="inheritance">
<li>org.apache.pekko.persistence.typed.state.javadsl.DurableStateBehavior&lt;Command,&#8203;State&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="DurableStateBehaviorWithEnforcedReplies.html" title="class in org.apache.pekko.persistence.typed.state.javadsl">DurableStateBehaviorWithEnforcedReplies</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">DurableStateBehavior&lt;Command,&#8203;State&gt;</span>
extends <a href="../../../../actor/typed/internal/BehaviorImpl.DeferredBehavior.html" title="class in org.apache.pekko.actor.typed.internal">BehaviorImpl.DeferredBehavior</a>&lt;Command&gt;</pre>
<div class="block">A <code>Behavior</code> for a persistent actor with durable storage of its state.
 <p>
 API May Change</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.org.apache.pekko.actor.typed.Behavior">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;org.apache.pekko.actor.typed.<a href="../../../../actor/typed/Behavior.html" title="class in org.apache.pekko.actor.typed">Behavior</a></h3>
<code><a href="../../../../actor/typed/Behavior.BehaviorDecorators.html" title="class in org.apache.pekko.actor.typed">Behavior.BehaviorDecorators</a>&lt;<a href="../../../../actor/typed/Behavior.BehaviorDecorators.html" title="type parameter in Behavior.BehaviorDecorators">Inner</a>&gt;, <a href="../../../../actor/typed/Behavior.BehaviorDecorators$.html" title="class in org.apache.pekko.actor.typed">Behavior.BehaviorDecorators$</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.pekko.persistence.typed.PersistenceId)">DurableStateBehavior</a></span>&#8203;(<a href="../../PersistenceId.html" title="class in org.apache.pekko.persistence.typed">PersistenceId</a>&nbsp;persistenceId)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.pekko.persistence.typed.PersistenceId,org.apache.pekko.actor.typed.BackoffSupervisorStrategy)">DurableStateBehavior</a></span>&#8203;(<a href="../../PersistenceId.html" title="class in org.apache.pekko.persistence.typed">PersistenceId</a>&nbsp;persistenceId,
                    <a href="../../../../actor/typed/BackoffSupervisorStrategy.html" title="class in org.apache.pekko.actor.typed">BackoffSupervisorStrategy</a>&nbsp;onPersistFailure)</code></th>
<td class="colLast">
<div class="block">If using onPersistFailure the supervision is only around the <code>DurableStateBehavior</code> not any outer setup/withTimers
 block.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../actor/typed/Behavior.html" title="class in org.apache.pekko.actor.typed">Behavior</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">Command</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#apply(org.apache.pekko.actor.typed.TypedActorContext)">apply</a></span>&#8203;(<a href="../../../../actor/typed/TypedActorContext.html" title="interface in org.apache.pekko.actor.typed">TypedActorContext</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">Command</a>&gt;&nbsp;context)</code></th>
<td class="colLast">
<div class="block">INTERNAL API: DeferredBehavior init, not for user extension</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected abstract <a href="CommandHandler.html" title="interface in org.apache.pekko.persistence.typed.state.javadsl">CommandHandler</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">Command</a>,&#8203;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#commandHandler()">commandHandler</a></span>()</code></th>
<td class="colLast">
<div class="block">Implement by handling incoming commands and return an <code>Effect()</code> to persist or signal other effects
 of the command handling such as stopping the behavior or others.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#durableStateStorePluginId()">durableStateStorePluginId</a></span>()</code></th>
<td class="colLast">
<div class="block">Override and define the <code>DurableStateStore</code> plugin id that this actor should use instead of the default.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected <a href="EffectFactories.html" title="class in org.apache.pekko.persistence.typed.state.javadsl">EffectFactories</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#Effect()">Effect</a></span>()</code></th>
<td class="colLast">
<div class="block">Factory of effects.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected abstract <a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">State</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#emptyState()">emptyState</a></span>()</code></th>
<td class="colLast">
<div class="block">Implement by returning the initial empty state object.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lastSequenceNumber(org.apache.pekko.actor.typed.javadsl.ActorContext)">lastSequenceNumber</a></span>&#8203;(<a href="../../../../actor/typed/javadsl/ActorContext.html" title="interface in org.apache.pekko.actor.typed.javadsl">ActorContext</a>&lt;?&gt;&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">The last sequence number that was persisted, can only be called from inside the handlers of a <code>DurableStateBehavior</code></div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected <a href="CommandHandlerBuilder.html" title="class in org.apache.pekko.persistence.typed.state.javadsl">CommandHandlerBuilder</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">Command</a>,&#8203;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#newCommandHandlerBuilder()">newCommandHandlerBuilder</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected <a href="SignalHandlerBuilder.html" title="class in org.apache.pekko.persistence.typed.state.javadsl">SignalHandlerBuilder</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#newSignalHandlerBuilder()">newSignalHandlerBuilder</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../PersistenceId.html" title="class in org.apache.pekko.persistence.typed">PersistenceId</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#persistenceId()">persistenceId</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected <a href="SignalHandler.html" title="class in org.apache.pekko.persistence.typed.state.javadsl">SignalHandler</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#signalHandler()">signalHandler</a></span>()</code></th>
<td class="colLast">
<div class="block">Override to react on general lifecycle signals and <code>DurableStateBehavior</code> specific signals
 (recovery related).</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../SnapshotAdapter.html" title="interface in org.apache.pekko.persistence.typed">SnapshotAdapter</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#snapshotAdapter()">snapshotAdapter</a></span>()</code></th>
<td class="colLast">
<div class="block">Transform the state into another type before giving it to and from the store.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tag()">tag</a></span>()</code></th>
<td class="colLast">
<div class="block">The tag that can be used in persistence query.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.pekko.actor.typed.Behavior">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.pekko.actor.typed.<a href="../../../../actor/typed/Behavior.html" title="class in org.apache.pekko.actor.typed">Behavior</a></h3>
<code><a href="../../../../actor/typed/Behavior.html#BehaviorDecorators(org.apache.pekko.actor.typed.Behavior)">BehaviorDecorators</a>, <a href="../../../../actor/typed/Behavior.html#canonicalize(org.apache.pekko.actor.typed.Behavior,org.apache.pekko.actor.typed.Behavior,org.apache.pekko.actor.typed.TypedActorContext)">canonicalize</a>, <a href="../../../../actor/typed/Behavior.html#existsInStack(org.apache.pekko.actor.typed.Behavior,scala.Function1)">existsInStack</a>, <a href="../../../../actor/typed/Behavior.html#interpretMessage(org.apache.pekko.actor.typed.Behavior,org.apache.pekko.actor.typed.TypedActorContext,T)">interpretMessage</a>, <a href="../../../../actor/typed/Behavior.html#interpretSignal(org.apache.pekko.actor.typed.Behavior,org.apache.pekko.actor.typed.TypedActorContext,org.apache.pekko.actor.typed.Signal)">interpretSignal</a>, <a href="../../../../actor/typed/Behavior.html#isAlive(org.apache.pekko.actor.typed.Behavior)">isAlive</a>, <a href="../../../../actor/typed/Behavior.html#isDeferred(org.apache.pekko.actor.typed.Behavior)">isDeferred</a>, <a href="../../../../actor/typed/Behavior.html#isUnhandled(org.apache.pekko.actor.typed.Behavior)">isUnhandled</a>, <a href="../../../../actor/typed/Behavior.html#narrow()">narrow</a>, <a href="../../../../actor/typed/Behavior.html#start(org.apache.pekko.actor.typed.Behavior,org.apache.pekko.actor.typed.TypedActorContext)">start</a>, <a href="../../../../actor/typed/Behavior.html#validateAsInitial(org.apache.pekko.actor.typed.Behavior)">validateAsInitial</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.apache.pekko.persistence.typed.PersistenceId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DurableStateBehavior</h4>
<pre>public&nbsp;DurableStateBehavior&#8203;(<a href="../../PersistenceId.html" title="class in org.apache.pekko.persistence.typed">PersistenceId</a>&nbsp;persistenceId)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>persistenceId</code> - stable unique identifier for the <code>DurableStateBehavior</code></dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(org.apache.pekko.persistence.typed.PersistenceId,org.apache.pekko.actor.typed.BackoffSupervisorStrategy)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DurableStateBehavior</h4>
<pre>public&nbsp;DurableStateBehavior&#8203;(<a href="../../PersistenceId.html" title="class in org.apache.pekko.persistence.typed">PersistenceId</a>&nbsp;persistenceId,
                            <a href="../../../../actor/typed/BackoffSupervisorStrategy.html" title="class in org.apache.pekko.actor.typed">BackoffSupervisorStrategy</a>&nbsp;onPersistFailure)</pre>
<div class="block">If using onPersistFailure the supervision is only around the <code>DurableStateBehavior</code> not any outer setup/withTimers
 block. If using restart any actions e.g. scheduling timers, can be done on the PreRestart signal or on the
 RecoveryCompleted signal.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>persistenceId</code> - stable unique identifier for the <code>DurableStateBehavior</code></dd>
<dd><code>onPersistFailure</code> - BackoffSupervisionStrategy for persist failures</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="Effect()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Effect</h4>
<pre class="methodSignature">protected final&nbsp;<a href="EffectFactories.html" title="class in org.apache.pekko.persistence.typed.state.javadsl">EffectFactories</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">State</a>&gt;&nbsp;Effect()</pre>
<div class="block">Factory of effects.
 <p>
 Return effects from your handlers in order to instruct persistence on how to act on the incoming message (i.e. persist state).</div>
</li>
</ul>
<a id="apply(org.apache.pekko.actor.typed.TypedActorContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>apply</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../actor/typed/Behavior.html" title="class in org.apache.pekko.actor.typed">Behavior</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">Command</a>&gt;&nbsp;apply&#8203;(<a href="../../../../actor/typed/TypedActorContext.html" title="interface in org.apache.pekko.actor.typed">TypedActorContext</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">Command</a>&gt;&nbsp;context)</pre>
<div class="block">INTERNAL API: DeferredBehavior init, not for user extension</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../actor/typed/internal/BehaviorImpl.DeferredBehavior.html#apply(org.apache.pekko.actor.typed.TypedActorContext)">apply</a></code>&nbsp;in class&nbsp;<code><a href="../../../../actor/typed/internal/BehaviorImpl.DeferredBehavior.html" title="class in org.apache.pekko.actor.typed.internal">BehaviorImpl.DeferredBehavior</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">Command</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a id="commandHandler()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commandHandler</h4>
<pre class="methodSignature">protected abstract&nbsp;<a href="CommandHandler.html" title="interface in org.apache.pekko.persistence.typed.state.javadsl">CommandHandler</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">Command</a>,&#8203;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">State</a>&gt;&nbsp;commandHandler()</pre>
<div class="block">Implement by handling incoming commands and return an <code>Effect()</code> to persist or signal other effects
 of the command handling such as stopping the behavior or others.
 <p>
 Use <a href="#newCommandHandlerBuilder()"><code>newCommandHandlerBuilder()</code></a> to define the command handlers.
 <p>
 The command handlers are only invoked when the actor is running (i.e. not recovering).
 While the actor is persisting state, the incoming messages are stashed and only
 delivered to the handler once persisting them has completed.</div>
</li>
</ul>
<a id="durableStateStorePluginId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>durableStateStorePluginId</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;durableStateStorePluginId()</pre>
<div class="block">Override and define the <code>DurableStateStore</code> plugin id that this actor should use instead of the default.</div>
</li>
</ul>
<a id="emptyState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>emptyState</h4>
<pre class="methodSignature">protected abstract&nbsp;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">State</a>&nbsp;emptyState()</pre>
<div class="block">Implement by returning the initial empty state object.
 This object will be passed into this behaviors handlers, until a new state replaces it.
 <p>
 Also known as "zero state" or "neutral state".</div>
</li>
</ul>
<a id="lastSequenceNumber(org.apache.pekko.actor.typed.javadsl.ActorContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastSequenceNumber</h4>
<pre class="methodSignature">public final&nbsp;long&nbsp;lastSequenceNumber&#8203;(<a href="../../../../actor/typed/javadsl/ActorContext.html" title="interface in org.apache.pekko.actor.typed.javadsl">ActorContext</a>&lt;?&gt;&nbsp;ctx)</pre>
<div class="block">The last sequence number that was persisted, can only be called from inside the handlers of a <code>DurableStateBehavior</code></div>
</li>
</ul>
<a id="newCommandHandlerBuilder()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newCommandHandlerBuilder</h4>
<pre class="methodSignature">protected&nbsp;<a href="CommandHandlerBuilder.html" title="class in org.apache.pekko.persistence.typed.state.javadsl">CommandHandlerBuilder</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">Command</a>,&#8203;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">State</a>&gt;&nbsp;newCommandHandlerBuilder()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new, mutable, command handler builder</dd>
</dl>
</li>
</ul>
<a id="newSignalHandlerBuilder()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newSignalHandlerBuilder</h4>
<pre class="methodSignature">protected final&nbsp;<a href="SignalHandlerBuilder.html" title="class in org.apache.pekko.persistence.typed.state.javadsl">SignalHandlerBuilder</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">State</a>&gt;&nbsp;newSignalHandlerBuilder()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new, mutable signal handler builder</dd>
</dl>
</li>
</ul>
<a id="persistenceId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>persistenceId</h4>
<pre class="methodSignature">public&nbsp;<a href="../../PersistenceId.html" title="class in org.apache.pekko.persistence.typed">PersistenceId</a>&nbsp;persistenceId()</pre>
</li>
</ul>
<a id="signalHandler()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>signalHandler</h4>
<pre class="methodSignature">protected&nbsp;<a href="SignalHandler.html" title="class in org.apache.pekko.persistence.typed.state.javadsl">SignalHandler</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">State</a>&gt;&nbsp;signalHandler()</pre>
<div class="block">Override to react on general lifecycle signals and <code>DurableStateBehavior</code> specific signals
 (recovery related). Those are all subtypes of <code>pekko.persistence.typed.state.DurableStateSignal</code>.
 <p>
 Use <a href="#newSignalHandlerBuilder()"><code>newSignalHandlerBuilder()</code></a> to define the signal handler.</div>
</li>
</ul>
<a id="snapshotAdapter()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>snapshotAdapter</h4>
<pre class="methodSignature">public&nbsp;<a href="../../SnapshotAdapter.html" title="interface in org.apache.pekko.persistence.typed">SnapshotAdapter</a>&lt;<a href="DurableStateBehavior.html" title="type parameter in DurableStateBehavior">State</a>&gt;&nbsp;snapshotAdapter()</pre>
<div class="block">Transform the state into another type before giving it to and from the store. Can be used
 to migrate from different state types e.g. when migration from PersistentFSM to Typed DurableStateBehavior.</div>
</li>
</ul>
<a id="tag()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>tag</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;tag()</pre>
<div class="block">The tag that can be used in persistence query.</div>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
