<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.11) on Wed Feb 08 11:53:31 CET 2023 -->
<title>EventSourcedBehavior</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2023-02-08">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EventSourcedBehavior";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":38,"i14":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.pekko.persistence.typed.scaladsl</a></div>
<h2 title="Interface EventSourcedBehavior" class="title">Interface EventSourcedBehavior&lt;Command,&#8203;Event,&#8203;State&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public interface <span class="typeNameLabel">EventSourcedBehavior&lt;Command,&#8203;Event,&#8203;State&gt;</span></pre>
<div class="block">Further customization of the <code>EventSourcedBehavior</code> can be done with the methods defined here.
 <p>
 Not for user extension</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="EventSourcedBehavior.CommandHandler$.html" title="class in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior.CommandHandler$</a></span></code></th>
<td class="colLast">
<div class="block">The <code>CommandHandler</code> defines how to act on commands.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#eventAdapter(org.apache.pekko.persistence.typed.EventAdapter)">eventAdapter</a></span>&#8203;(<a href="../EventAdapter.html" title="class in org.apache.pekko.persistence.typed">EventAdapter</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;?&gt;&nbsp;adapter)</code></th>
<td class="colLast">
<div class="block">Transform the event to another type before giving to the journal.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onPersistFailure(org.apache.pekko.actor.typed.BackoffSupervisorStrategy)">onPersistFailure</a></span>&#8203;(<a href="../../../actor/typed/BackoffSupervisorStrategy.html" title="class in org.apache.pekko.actor.typed">BackoffSupervisorStrategy</a>&nbsp;backoffStrategy)</code></th>
<td class="colLast">
<div class="block">Back off strategy for persist failures.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../PersistenceId.html" title="class in org.apache.pekko.persistence.typed">PersistenceId</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#persistenceId()">persistenceId</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#receiveSignal(scala.PartialFunction)">receiveSignal</a></span>&#8203;(scala.PartialFunction&lt;scala.Tuple2&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>,&#8203;<a href="../../../actor/typed/Signal.html" title="interface in org.apache.pekko.actor.typed">Signal</a>&gt;,&#8203;scala.runtime.BoxedUnit&gt;&nbsp;signalHandler)</code></th>
<td class="colLast">
<div class="block">Allows the event sourced behavior to react on signals.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>scala.PartialFunction&lt;scala.Tuple2&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>,&#8203;<a href="../../../actor/typed/Signal.html" title="interface in org.apache.pekko.actor.typed">Signal</a>&gt;,&#8203;scala.runtime.BoxedUnit&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#signalHandler()">signalHandler</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#snapshotAdapter(org.apache.pekko.persistence.typed.SnapshotAdapter)">snapshotAdapter</a></span>&#8203;(<a href="../SnapshotAdapter.html" title="interface in org.apache.pekko.persistence.typed">SnapshotAdapter</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;adapter)</code></th>
<td class="colLast">
<div class="block">Transform the state to another type before giving to the journal.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#snapshotWhen(scala.Function3)">snapshotWhen</a></span>&#8203;(scala.Function3&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;java.lang.Object,&#8203;java.lang.Object&gt;&nbsp;predicate)</code></th>
<td class="colLast">
<div class="block">Initiates a snapshot if the given <code>predicate</code> evaluates to true.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withEventPublishing(boolean)">withEventPublishing</a></span>&#8203;(boolean&nbsp;enabled)</code></th>
<td class="colLast">
<div class="block">Publish events to the system event stream as <code>pekko.persistence.typed.PublishedEvent</code> after they have been persisted</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withJournalPluginId(java.lang.String)">withJournalPluginId</a></span>&#8203;(java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Change the journal plugin id that this actor should use.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withRecovery(org.apache.pekko.persistence.typed.scaladsl.Recovery)">withRecovery</a></span>&#8203;(<a href="Recovery.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">Recovery</a>&nbsp;recovery)</code></th>
<td class="colLast">
<div class="block">Change the recovery strategy.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withReplication(org.apache.pekko.persistence.typed.internal.ReplicationContextImpl)">withReplication</a></span>&#8203;(org.apache.pekko.persistence.typed.internal.ReplicationContextImpl&nbsp;context)</code></th>
<td class="colLast">
<div class="block">INTERNAL API</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withRetention(org.apache.pekko.persistence.typed.scaladsl.RetentionCriteria)">withRetention</a></span>&#8203;(<a href="RetentionCriteria.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">RetentionCriteria</a>&nbsp;criteria)</code></th>
<td class="colLast">
<div class="block">Criteria for retention/deletion of snapshots and events.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withSnapshotPluginId(java.lang.String)">withSnapshotPluginId</a></span>&#8203;(java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Change the snapshot store plugin id that this actor should use.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withSnapshotSelectionCriteria(org.apache.pekko.persistence.typed.SnapshotSelectionCriteria)">withSnapshotSelectionCriteria</a></span>&#8203;(<a href="../SnapshotSelectionCriteria.html" title="class in org.apache.pekko.persistence.typed">SnapshotSelectionCriteria</a>&nbsp;selection)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">use withRecovery(Recovery.withSnapshotSelectionCriteria(...)).</div>
</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withTagger(scala.Function1)">withTagger</a></span>&#8203;(scala.Function1&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;scala.collection.immutable.Set&lt;java.lang.String&gt;&gt;&nbsp;tagger)</code></th>
<td class="colLast">
<div class="block">The <code>tagger</code> function should give event tags, which will be used in persistence query</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="persistenceId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>persistenceId</h4>
<pre class="methodSignature"><a href="../PersistenceId.html" title="class in org.apache.pekko.persistence.typed">PersistenceId</a>&nbsp;persistenceId()</pre>
</li>
</ul>
<a id="receiveSignal(scala.PartialFunction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receiveSignal</h4>
<pre class="methodSignature"><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;receiveSignal&#8203;(scala.PartialFunction&lt;scala.Tuple2&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>,&#8203;<a href="../../../actor/typed/Signal.html" title="interface in org.apache.pekko.actor.typed">Signal</a>&gt;,&#8203;scala.runtime.BoxedUnit&gt;&nbsp;signalHandler)</pre>
<div class="block">Allows the event sourced behavior to react on signals.
 <p>
 The regular lifecycle signals can be handled as well as
 Akka Persistence specific signals (snapshot and recovery related). Those are all subtypes of
 <code>pekko.persistence.typed.EventSourcedSignal</code></div>
</li>
</ul>
<a id="signalHandler()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>signalHandler</h4>
<pre class="methodSignature">scala.PartialFunction&lt;scala.Tuple2&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>,&#8203;<a href="../../../actor/typed/Signal.html" title="interface in org.apache.pekko.actor.typed">Signal</a>&gt;,&#8203;scala.runtime.BoxedUnit&gt;&nbsp;signalHandler()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The currently defined signal handler or an empty handler if no custom handler previously defined</dd>
</dl>
</li>
</ul>
<a id="withJournalPluginId(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withJournalPluginId</h4>
<pre class="methodSignature"><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;withJournalPluginId&#8203;(java.lang.String&nbsp;id)</pre>
<div class="block">Change the journal plugin id that this actor should use.</div>
</li>
</ul>
<a id="withSnapshotPluginId(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withSnapshotPluginId</h4>
<pre class="methodSignature"><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;withSnapshotPluginId&#8203;(java.lang.String&nbsp;id)</pre>
<div class="block">Change the snapshot store plugin id that this actor should use.</div>
</li>
</ul>
<a id="withSnapshotSelectionCriteria(org.apache.pekko.persistence.typed.SnapshotSelectionCriteria)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withSnapshotSelectionCriteria</h4>
<pre class="methodSignature"><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;withSnapshotSelectionCriteria&#8203;(<a href="../SnapshotSelectionCriteria.html" title="class in org.apache.pekko.persistence.typed">SnapshotSelectionCriteria</a>&nbsp;selection)</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">use withRecovery(Recovery.withSnapshotSelectionCriteria(...)). Since 2.6.5.</div>
</div>
<div class="block">Changes the snapshot selection criteria used by this behavior.
 By default the most recent snapshot is used, and the remaining state updates are recovered by replaying events
 from the sequence number up until which the snapshot reached.
 <p>
 You may configure the behavior to skip replaying snapshots completely, in which case the recovery will be
 performed by replaying all events -- which may take a long time.</div>
</li>
</ul>
<a id="snapshotWhen(scala.Function3)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>snapshotWhen</h4>
<pre class="methodSignature"><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;snapshotWhen&#8203;(scala.Function3&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;java.lang.Object,&#8203;java.lang.Object&gt;&nbsp;predicate)</pre>
<div class="block">Initiates a snapshot if the given <code>predicate</code> evaluates to true.
 <p>
 Decide to store a snapshot based on the State, Event and sequenceNr when the event has
 been successfully persisted.
 <p>
 When persisting multiple events at once the snapshot is triggered after all the events have
 been persisted.
 <p>
 Snapshots triggered by <code>snapshotWhen</code> will not trigger deletes of old snapshots and events if
 <code>EventSourcedBehavior.withRetention</code> with <code>RetentionCriteria.snapshotEvery</code> is used together with
 <code>snapshotWhen</code>. Such deletes are only triggered by snapshots matching the <code>numberOfEvents</code> in the
 <a href="RetentionCriteria.html" title="interface in org.apache.pekko.persistence.typed.scaladsl"><code>RetentionCriteria</code></a>.</div>
</li>
</ul>
<a id="withRetention(org.apache.pekko.persistence.typed.scaladsl.RetentionCriteria)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withRetention</h4>
<pre class="methodSignature"><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;withRetention&#8203;(<a href="RetentionCriteria.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">RetentionCriteria</a>&nbsp;criteria)</pre>
<div class="block">Criteria for retention/deletion of snapshots and events.
 By default, retention is disabled and snapshots are not saved and deleted automatically.</div>
</li>
</ul>
<a id="withTagger(scala.Function1)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withTagger</h4>
<pre class="methodSignature"><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;withTagger&#8203;(scala.Function1&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;scala.collection.immutable.Set&lt;java.lang.String&gt;&gt;&nbsp;tagger)</pre>
<div class="block">The <code>tagger</code> function should give event tags, which will be used in persistence query</div>
</li>
</ul>
<a id="eventAdapter(org.apache.pekko.persistence.typed.EventAdapter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eventAdapter</h4>
<pre class="methodSignature"><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;eventAdapter&#8203;(<a href="../EventAdapter.html" title="class in org.apache.pekko.persistence.typed">EventAdapter</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;?&gt;&nbsp;adapter)</pre>
<div class="block">Transform the event to another type before giving to the journal. Can be used to wrap events
 in types Journals understand but is of a different type than <code>Event</code>.</div>
</li>
</ul>
<a id="snapshotAdapter(org.apache.pekko.persistence.typed.SnapshotAdapter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>snapshotAdapter</h4>
<pre class="methodSignature"><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;snapshotAdapter&#8203;(<a href="../SnapshotAdapter.html" title="interface in org.apache.pekko.persistence.typed">SnapshotAdapter</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;adapter)</pre>
<div class="block">Transform the state to another type before giving to the journal. Can be used to transform older
 state types into the current state type e.g. when migrating from Persistent FSM to Typed EventSourcedBehavior.</div>
</li>
</ul>
<a id="onPersistFailure(org.apache.pekko.actor.typed.BackoffSupervisorStrategy)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onPersistFailure</h4>
<pre class="methodSignature"><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;onPersistFailure&#8203;(<a href="../../../actor/typed/BackoffSupervisorStrategy.html" title="class in org.apache.pekko.actor.typed">BackoffSupervisorStrategy</a>&nbsp;backoffStrategy)</pre>
<div class="block">Back off strategy for persist failures.
 <p>
 Specifically BackOff to prevent resume being used. Resume is not allowed as
 it will be unknown if the event has been persisted.
 <p>
 This supervision is only around the event sourced behavior not any outer setup/withTimers
 block. If using restart, any actions e.g. scheduling timers, can be done on the PreRestart
 <p>
 If not specified the actor will be stopped on failure.</div>
</li>
</ul>
<a id="withRecovery(org.apache.pekko.persistence.typed.scaladsl.Recovery)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withRecovery</h4>
<pre class="methodSignature"><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;withRecovery&#8203;(<a href="Recovery.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">Recovery</a>&nbsp;recovery)</pre>
<div class="block">Change the recovery strategy.
 By default, snapshots and events are recovered.</div>
</li>
</ul>
<a id="withEventPublishing(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withEventPublishing</h4>
<pre class="methodSignature"><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;withEventPublishing&#8203;(boolean&nbsp;enabled)</pre>
<div class="block">Publish events to the system event stream as <code>pekko.persistence.typed.PublishedEvent</code> after they have been persisted</div>
</li>
</ul>
<a id="withReplication(org.apache.pekko.persistence.typed.internal.ReplicationContextImpl)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>withReplication</h4>
<pre class="methodSignature"><a href="EventSourcedBehavior.html" title="interface in org.apache.pekko.persistence.typed.scaladsl">EventSourcedBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;withReplication&#8203;(org.apache.pekko.persistence.typed.internal.ReplicationContextImpl&nbsp;context)</pre>
<div class="block">INTERNAL API</div>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
